<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>宽柔中学</title>
	<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
	<link rel="stylesheet" type="text/css" href="index.css">
	<script src="/js/index.js"></script>

	<script type="text/javascript">
		function clear() {
			document.getElementById('scene1').setAttribute('visible', 'false');
			document.getElementById('scene2').setAttribute('visible', 'false');
			document.getElementById('scene3').setAttribute('visible', 'false');
			document.getElementById('scene4').setAttribute('visible', 'false');
			document.getElementById('scene5').setAttribute('visible', 'false');
			setInterval(100);
		}

		function setScene1() {
			document.getElementById('scene1').setAttribute('visible', 'true');
		}

		function setScene2() {
			document.getElementById('scene2').setAttribute('visible', 'true');
		}

		function setScene3() {
			document.getElementById('scene3').setAttribute('visible', 'true');
		}

		function setScene4() {
			document.getElementById('scene4').setAttribute('visible', 'true');
		}

		function setScene5() {
			document.getElementById('scene5').setAttribute('visible', 'true');
		}

	</script>


	<script>
		AFRAME.registerComponent('cursor-listener', {
			init: function () {
				document.querySelector('#box1').addEventListener('click', function () {
					document.getElementById('scene1').setAttribute('visible', 'false');
					document.getElementById('scene2').setAttribute('visible', 'true');

				});

				document.querySelector('#box2').addEventListener('click', function () {
					document.getElementById('scene2').setAttribute('visible', 'false');
					document.getElementById('scene1').setAttribute('visible', 'true');

				});
			}
		});
	</script> 

</head>
<body>
	<div id="vr">
		<a-scene>
			<a-assets>
				<img id="hz1" src="Pictures/1.JPG" rotation="0 -90 0">
				<img id="hz2" src="Pictures/2.0.JPG" rotation="0 -90 0">
				<img id="j1" src="Pictures/2.1.JPG" rotation="0 -90 0">
				<img id="j2" src="Pictures/2.2.JPG" rotation="0 -90 0">
				<img id="j3" src="Pictures/2.3.JPG" rotation="0 -90 0">
			</a-assets>

			<a-entity id="cam" camera="zoom:1" look-controls="reverseMouseDrag: true" cursor="rayOrigin: mouse"></a-entity>
			
			<a-entity id="scene1">
				<a-sky src="#hz1" visible="true"></a-sky>
				<a-box id="box1" color="blue" cursor-listener position="20 -5 0"> </a-box>
				</a-entity>

				<a-entity id="scene2" visible="false">
					<a-sky src="#hz2"></a-sky>
					<a-box id="box2" color="green" cursor-listener position="20 -5 0"> </a-box>
					</a-entity>

					<a-entity id="scene3" visible="false">
						<a-sky src="#j1"></a-sky>
						<a-box color="blue" onclick="clear(); setScene4()" position="20 -5 20"> </box>
						</a-entity>

						<a-entity id="scene4" visible="false">
							<a-sky src="#j2"></a-sky>
							<a-box color="green" onclick="clear(); setScene5()" position="20 -5 20"> </a-cube>
							</a-entity>

							<a-entity id="scene5" visible="false">
								<a-sky src="#j3"></a-sky>
								<a-box color="blue" onclick="clear(); setScene6()" position="20 -5 20"> </a-cube>
								</a-entity>
							</a-scene>
						</div>
					</body>
					</html>