<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>宽柔中学</title>
	<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
	<link rel="stylesheet" type="text/css" href="index.css">
	<script src="/js/index.js"></script>
	<script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
	<script>
		AFRAME.registerComponent('cursor-listener', {
			init: function () {
				var skyEl = this.el.sceneEl.querySelector('#background');
				
				this.el.addEventListener('click', function () {
					document.getElementById('scene1').setAttribute('visible', 'false');
					document.getElementById('scene2').setAttribute('visible', 'true');
				});
			}  
		});
	</script> 
	<script type="text/javascript">
		function setScene1() {
			document.getElementById('scene1').setAttribute('visible', 'true');
			document.getElementById('scene2').setAttribute('visible', 'false');
		}
	</script>

</head>
<body>
	<div id="vr">
		<a-scene>
			<a-assets>
				<img id="ryan" src="roomryan.jpg" rotation="0 -90 0">
				<img id="secondfloor" src="secondfloor.jpg" rotation="0 -90 0">
			</a-assets>

			<a-entity id="cam" camera="zoom:1" look-controls="reverseMouseDrag: true" cursor="rayOrigin: mouse"></a-entity>

			<a-sky id="background" src="#ryan"></a-sky>

			<a-entity id="scene1">
				<a-sky src="#ryan"></a-sky>
				<a-box color="blue" cursor-listener position="20 -5 3"> </a-cube>
				</a-entity>

				<a-entity id="scene2" visible="false">
					<a-sky src="#secondfloor"></a-sky>
					<a-box color="green" onclick="setScene1()" position="20 -5 -10"> </a-cube>
					</a-entity>

				</a-scene>
			</div>

			<div id="textbox">
				<textarea cols="40" rows="5" placeholder="Please put in your answers here." style="resize: none;"></textarea>
				<input type="submit" value="Submit"></input>
			</div>

		</body>
		</html>